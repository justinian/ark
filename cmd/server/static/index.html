<html>
<head>

    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/bootswatch@5/dist/yeti/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/v/bs5/jq-3.3.1/dt-1.10.25/b-1.7.1/b-colvis-1.7.1/sb-1.1.0/sl-1.3.3/datatables.min.css"/>
     
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript"
        src="https://cdn.datatables.net/v/bs5/jq-3.3.1/dt-1.10.25/b-1.7.1/b-colvis-1.7.1/sb-1.1.0/sl-1.3.3/datatables.min.js"></script>

    <style>
        .wild {
            background: lightgreen;
        }

        .tamed {
            background: lightblue;
        }

        .total {
        }

        .current {
        }

        .colors {
        }

        .control_column {
            height: 100%;
            padding: 10px;
        }
    </style>

    <script type="text/javascript">
        var table = $(document).ready( function () {
            table = $('#dinos').DataTable({
                "dom": "rtpil",
                "scrollX": true,
                "language": {
                    "searchBuilder": {
                        "title": ""
                    },
                },
                "select": {
                    "info": false,
                    "style": "single",
                },
                "searchBuilder": true,
                "pageLength": 50,
                "fixedHeader": true,
                "ajax": {"url":"api/dinos", "dataSrc":""},
                "columns": [
                    {"data": "name", "title": "Name"},
                    {"data": "world", "title": "World", "visible": false},
                    {"data": "class_name", "title": "Class"},
                    {"data": "levels_wild", "title": "Base Lvl", "visible": false},
                    {"data": "levels_tamed", "title": "Tame Lvl", "visible": false},
                    {"data": "levels_total", "title": "Total Lvl"},

                    {"data": "is_cryo", "title": "Stored?", "visible": false},
                    {"data": "parent_class", "title": "Container Type", "visible": false},
                    {"data": "parent_name", "title": "Container Name", "visible": false},

                    {"data": "x", "visible": false},
                    {"data": "y", "visible": false},
                    {"data": "z", "visible": false},

                    {"data": "color0", "title": "C0", "searchBuilderTitle": "Color 0", "visible": false},
                    {"data": "color1", "title": "C1", "searchBuilderTitle": "Color 1", "visible": false},
                    {"data": "color2", "title": "C2", "searchBuilderTitle": "Color 2", "visible": false},
                    {"data": "color3", "title": "C3", "searchBuilderTitle": "Color 3", "visible": false},
                    {"data": "color4", "title": "C4", "searchBuilderTitle": "Color 4", "visible": false},
                    {"data": "color5", "title": "C5", "searchBuilderTitle": "Color 5", "visible": false},

                    {"data": "health_current", "title": "H", "searchBuilderTitle": "Current Health", "visible": false},
                    {"data": "stamina_current", "title": "St", "searchBuilderTitle": "Current Stamina", "visible": false},
                    {"data": "torpor_current", "title": "T", "searchBuilderTitle": "Current Torpor", "visible": false},
                    {"data": "oxygen_current", "title": "O", "searchBuilderTitle": "Current Oxygen", "visible": false},
                    {"data": "food_current", "title": "F", "searchBuilderTitle": "Current Food", "visible": false},
                    {"data": "weight_current", "title": "W", "searchBuilderTitle": "Current Weight", "visible": false},
                    {"data": "melee_current", "title": "M", "searchBuilderTitle": "Current Melee", "visible": false},
                    {"data": "speed_current", "title": "Sp", "searchBuilderTitle": "Current Speed", "visible": false},

                    {"data": "health_wild", "title": "H", "searchBuilderTitle": "Base Health", "visible": false},
                    {"data": "stamina_wild", "title": "St", "searchBuilderTitle": "Base Stamina", "visible": false},
                    {"data": "torpor_wild", "title": "T", "searchBuilderTitle": "Base Torpor", "visible": false},
                    {"data": "oxygen_wild", "title": "O", "searchBuilderTitle": "Base Oxygen", "visible": false},
                    {"data": "food_wild", "title": "F", "searchBuilderTitle": "Base Food", "visible": false},
                    {"data": "weight_wild", "title": "W", "searchBuilderTitle": "Base Weight", "visible": false},
                    {"data": "melee_wild", "title": "M", "searchBuilderTitle": "Base Melee", "visible": false},
                    {"data": "speed_wild", "title": "Sp", "searchBuilderTitle": "Base Speed", "visible": false},

                    {"data": "health_tamed", "title": "H", "searchBuilderTitle": "Health Tamed Points", "visible": false},
                    {"data": "stamina_tamed", "title": "St", "searchBuilderTitle": "Stamina Tamed Points", "visible": false},
                    {"data": "torpor_tamed", "title": "T", "searchBuilderTitle": "Torpor Tamed Points", "visible": false},
                    {"data": "oxygen_tamed", "title": "O", "searchBuilderTitle": "Oxygen Tamed Points", "visible": false},
                    {"data": "food_tamed", "title": "F", "searchBuilderTitle": "Food Tamed Points", "visible": false},
                    {"data": "weight_tamed", "title": "W", "searchBuilderTitle": "Weight Tamed Points", "visible": false},
                    {"data": "melee_tamed", "title": "M", "searchBuilderTitle": "Melee Tamed Points", "visible": false},
                    {"data": "speed_tamed", "title": "Sp", "searchBuilderTitle": "Speed Tamed Points", "visible": false},

                    {"data": "health_total", "title":"H", "searchBuilderTitle": "Total Health"},
                    {"data": "stamina_total", "title":"St", "searchBuilderTitle": "Total Stamina"},
                    {"data": "torpor_total", "title":"T", "searchBuilderTitle": "Total Torpor"},
                    {"data": "oxygen_total", "title":"O", "searchBuilderTitle": "Total Oxygen"},
                    {"data": "food_total", "title":"F", "searchBuilderTitle": "Total Food"},
                    {"data": "weight_total", "title":"W", "searchBuilderTitle": "Total Weight"},
                    {"data": "melee_total", "title":"M", "searchBuilderTitle": "Total Melee"},
                    {"data": "speed_total", "title":"Sp", "searchBuilderTitle": "Total Speed"}
                ],
                "searchBuilder": {
                    "columns": [0, 1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 14, 15, 16, 17,
                                18, 19, 20, 21, 22, 23, 24, 25,
                                26, 27, 28, 29, 30, 31, 32, 33,
                                34, 35, 36, 37, 38, 39, 40, 41,
                                42, 43, 44, 45, 46, 47, 48, 49]
                }
            });

            showStats = function () {
                var showBase = $( '#showBase' )[0].checked;
                var showTamed = $( '#showTamed' )[0].checked;
                var showTotal = $( '#showTotal' )[0].checked;
                var showCurrent = $( '#showCurrent' )[0].checked;
                var showColor = $( '#showColor' )[0].checked;

                table.columns(3).visible(showBase);
                table.columns(4).visible(showTamed);
                table.columns(5).visible(showTotal);

                table.columns([12, 13, 14, 15, 16, 17]).visible(showColor);
                table.columns([18, 19, 20, 21, 22, 23, 24, 25]).visible(showCurrent);
                table.columns([26, 27, 28, 29, 30, 31, 32, 33]).visible(showBase);
                table.columns([34, 35, 36, 37, 38, 39, 40, 41]).visible(showTamed);
                table.columns([42, 43, 44, 45, 46, 47, 48, 49]).visible(showTotal);
            };

            table.searchBuilder.container().prependTo( $('#searchBuilderDiv') );
            $( '#searchInput' ).on( 'keyup', function () {
                table.search( this.value ).draw();
            } );

            $( '#showBase' ).on( 'click', showStats );
            $( '#showTamed' ).on( 'click', showStats );
            $( '#showTotal' ).on( 'click', showStats );
            $( '#showCurrent' ).on( 'click', showStats );
            $( '#showColor' ).on( 'click', showStats );
        });
    </script>

</head>
<body>

<div class="container-fluid p-4">
    <div class="row gx-5">

        <div class="col-8 rounded-3 m-3 p-1 bg-light">
            <table id="dinos" class="table table-striped nowrap" width="100%"></table>
        </div>

        <div class="col-3 m-3 p-3">
            <div class="row">
                <div class="btn-group" width="100%" role="group">
                    <input type="radio" class="btn-check" name="show" id="showBase" autocomplete="off">
                    <label class="btn btn-outline-primary" for="showBase">Base Stats</label>

                    <input type="radio" class="btn-check" name="show" id="showTamed" autocomplete="off">
                    <label class="btn btn-outline-primary" for="showTamed">Tamed Points</label>

                    <input type="radio" class="btn-check" name="show" id="showTotal" checked autocomplete="off">
                    <label class="btn btn-outline-primary" for="showTotal">Total Stats</label>

                    <input type="radio" class="btn-check" name="show" id="showCurrent" autocomplete="off">
                    <label class="btn btn-outline-primary" for="showCurrent">Current Stats</label>

                    <input type="radio" class="btn-check" name="show" id="showColor" autocomplete="off">
                    <label class="btn btn-outline-primary" for="showColor">Colors</label>
                </div>
            </div>

            <div class="row my-2 p-2">
                <input type="text" class="form-control" id="searchInput" placeholder="Search">
            </div>

            <div class="row my-2 p-2 rounded bg-light" id="searchBuilderDiv">
            </div>
        </div>

    </div>
</div>

</body>
</html>
